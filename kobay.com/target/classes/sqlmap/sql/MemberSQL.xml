<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="MemberSpace">

	<typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias alias="memberVO" type="kobay.com.service.MemberVO"/>
	<typeAlias alias="pageVO" type="kobay.com.cmmn.PageVO"/>
	
	
<insert id="memberDAO.insertMember">
	INSERT INTO kobay_member(
		memberUnq,
		memberId,
		memberPwd,
		memberName,
		memberPhone,
		memberRdate,
		memberMdate
	)
	VALUES(
		member_seq.NEXTVAL,
		'$memberId$',
		'$memberPwd$',
		'$memberName$',
		'$memberPhone$',
		sysdate,
		sysdate
	)
</insert>
<select id="memberDAO.selectMemberTotal" resultClass="java.lang.Integer">
	SELECT COUNT(memberUnq) total FROM kobay_member
</select>

<select id="memberDAO.selectMemberList" resultClass="egovMap">
	SELECT  memberUnq,
			memberId,
			memberPwd,
			memberName,
			memberPhone,
			TO_CHAR(memberRdate, 'yyyy-mm-dd') memberRdate
	FROM	kobay_member
</select>

<select id="memberDAO.selectMemberDetail" resultClass="memberVO">
	SELECT memberUnq,
		   memberName,
		   memberPhone,
		   TO_CHAR(memberRdate, 'yyyy-mm-dd') memberRdate
	FROM kobay_member
	WHERE memberId = #memberId#
</select>

<select id="memberDAO.memberCheckId" resultClass="java.lang.Integer">
	SELECT COUNT(memberId)
	FROM kobay_member
	WHERE memberId = #memberId#
</select>
</sqlMap>
<!-- 
CREATE TABLE kobay_member(
memberUnq number,
memberId varchar2(100),
memberPwd varchar2(100),
memberName varchar2(10),
memberPhone varchar2(20),
memberRdate timestamp),
memberRdate timestamp);

create sequence member_seq
INCREMENT BY 1
START WITH 1
MAXVALUE 999999;
 -->